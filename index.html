<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>mutmainn store</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>


  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>

  <!-- MOBILE SHELL (KUNCI) -->
  <div class="app">

    <!-- HEADER -->
    <header class="header">
  <div class="header-left">
    <img src="/img/logo.png" class="logo">
  </div>

  <h1 class="store-title">mutmainn store</h1>

  <div class="cart-gif" onclick="openCart()">
    <img src="/img/shopping-cart.gif" alt="Cart">
    <span id="cartCount" class="cart-badge hidden">0</span>
  </div>

  
</header>

<section class="headline">
    <h1 class="headline">
    <span class="gift-gif">
    <img src="/img/gift.gif" alt="Gift">
     <img class="fireworks" src="/img/fireworks.gif">
  
</span>
</h1>
  
  <h2>
    Hadiah bermakna <br>
    untuk setiap momen
  </h2>
  <p>design-print on demand, gift islami, dan produk pilihan teristimewa</p>
</section>

     <!-- carousel section -->
      
    <div class="carousel-banner-row">
    <section class="carousel-section">
  <small class="typing-text">Ide hadiah awal tahunmu</small>

  <div class="carousel-viewport">
    <div class="carousel-track" id="carousel"></div>
  </div>
</section>

<!-- banner wrapper -->
   <section class="banner-wrapper">
  <div class="banner-track" id="bannerTrack">
    <div class="banner-slide"><img src="/img/banner1.jpg"></div>
    <div class="banner-slide"><img src="/img/banner2.jpg"></div>
    <div class="banner-slide"><img src="/img/banner3.jpg"></div>
    <div class="banner-slide"><img src="/img/banner4.jpg"></div>
    <div class="banner-slide"><img src="/img/banner5.jpg"></div>
    <div class="banner-slide"><img src="/img/banner6.jpg"></div>
    <div class="banner-slide"><img src="/img/banner7.jpg"></div>
    <div class="banner-slide"><img src="/img/banner8.jpg"></div>
    <div class="banner-slide"><img src="/img/banner9.jpg"></div>
    <div class="banner-slide"><img src="/img/banner10.jpg"></div>
    <div class="banner-slide"><img src="/img/banner11.jpg"></div>
    <div class="banner-slide"><img src="/img/banner13.jpg"></div>


  </div>
</section>
   </div>

     <section class="good-gif">
    <img src="/img/good.gif" alt="Good">
  </section>

    <!-- HERO -->
    <section class="hero">
      <p class="quote">
        “Salinglah memberi hadiah, niscaya kalian akan saling mencintai.”
      </p>
      <span class="source">HR. Al-Bukhari dalam Al-Adab Al-Mufrad, hasan</span>
      <button class="btn-primary">Explore Gift</button>
    </section>

    <!-- TITLE -->
    <section class="section-title">
      <h2>"sesuatu" yang kamu banget? </h2>
    </section>
    <div class="search-bar">
        <input 
    type="text" 
    id="searchInput"
    placeholder="Cari disini aja..."
    onkeyup="searchProduct()"
  />
    </div>

    <!-- PRODUCT GRID -->
    <div class="product-grid" id="productGrid"></div>

    <!-- PROMO BANNER -->
    <section class="promo">
      <div class="promo-text">
        <h3>Niat Puasa Sunnah <br> Jangan Sampai Terlewat Lagi</h3>
        <p>Kalender Mutmainn membantu kamu mengingat puasa sunnah dan ibadah sepanjang tahun dengan tampilan rapi dan mudah dibaca.</p>
        <button class="btn-secondary">Pesan Sekarang</button>
      </div>
      <img src="/img/promo.jpg" alt="promo">
    </section>

  </div>

  <!-- QUICK VIEW -->
  <div id="quickView" class="overlay hidden"></div>

  <script src="/js/data.js"></script>
  

<script>
function searchProduct() {
  const keyword = document.getElementById('searchInput').value.toLowerCase();
  const filtered = products.filter(p =>
    p.name.toLowerCase().includes(keyword)
  );

  renderProducts(filtered);
}
</script>
  <script src="/js/carousel.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/typing.js"></script>

<!-- CART MODAL -->

<div id="cartModal" class="overlay hidden">
  <div class="cart-modal">

    <header class="cart-header">
  <h3>Total: <span id="cartTotal">Rp 0</span></h3>

  <div class="cart-actions">
    <button type="button" class="clear-cart" onclick="clearCart()">Hapus Semua</button>
    <button onclick="closeCart()">✕</button>
  </div>
</header>

    <div id="cartList"></div>

    <button class="checkout-btn" onclick="openCheckout()">
      Lanjutkan ke Pembayaran
    </button>
</button>

  </div>
</div>


    <!-- PRODUCT MODAL -->
<div id="productModal" class="overlay hidden">
  <button class="close-btn" onclick="closeModal()">×</button>
  <div class="product-modal">

    

    <div class="product-body">

      <!-- IMAGE -->
      <div class="product-image">
        <img id="modalImage" alt="Produk">
      </div>

      <!-- INFO -->
      <div class="product-info">

        <h3 id="modalName"></h3>
        <p id="modalPrice" class="price"></p>

        <!-- DESKRIPSI -->
        <div class="desc-box">
          <h4>Deskripsi Produk</h4>
          <p id="modalDescription"></p>
        </div>

        <span id="modalVariant" style="display:none"></span>
<span id="modalSize" style="display:none"></span>

        <!-- QTY -->
        <div class="qty-row">
          <span>Qty</span>
          <div class="qty-control">
            <button onclick="changeQty(-1)">−</button>
            <span id="qtyValue">1</span>
            <button onclick="changeQty(1)">+</button>
          </div>
        </div>

        <!-- SUBTOTAL -->
        <div class="subtotal">
          Subtotal
          <strong id="modalTotal">Rp 0</strong>
        </div>

<button
  id="checkoutBtn"
  class="checkout-btn"
  onclick="addToCartAndOpenCart()">          Lanjutkan ke Pembayaran
        </button>

        <button class="btn-copy" onclick="copyProductLink(window.location.href)">
  Copy Link
</button>

      </div>
    </div>

  </div>
</div>


<!-- CHECKOUT MODAL -->
<div id="checkoutModal" class="overlay hidden">

  <div class="checkout-modal">

    <div class="checkout-logo">
    <img src="/img/logohorisontal.png">
  </div>

    <button class="close-btn" onclick="closeCheckout()">×</button>

    <!-- SECTION 1 : ORDER -->
    <section>
      <h3>Ringkasan Pesanan</h3>

      <div class="order-id">
  Order ID: <b id="orderIDText">-</b>
</div>

      <div id="checkoutItems"></div>

      <div class="row">
        <span>TOTAL</span>
        <b id="totalOrder">Rp 0</b>
      </div>

      <div class="row muted" id="shippingRow" style="display:none">
       <span>Estimasi Ongkir</span>
       <b id="shippingCost">Rp 0</b>
      </div>

      <div class="row total-final" id="grandTotalRow" style="display:none">
       <span>TOTAL PEMBAYARAN</span>
       <b id="grandTotal">Rp 0</b>
      </div>

    </section>

    <!-- SECTION 2 : DATA PEMESAN -->
    <section>
      <h3>Data Pemesan</h3>
      <input id="buyerName" placeholder="Nama penerima">
      <input id="buyerEmail" placeholder="Email konfirmasi">
      <input id="buyerWA" placeholder="WhatsApp aktif">
    </section>

    <!-- SECTION 3 : PENGIRIMAN -->
    <section>
      <h3>Pengiriman</h3>
      <textarea id="buyerAddress" placeholder="Alamat lengkap pengiriman"></textarea>
      <div id="map" style="height:220px;border-radius:12px;margin-top:12px"></div>
      <div class="row total-final sticky-total hidden" id="grandTotalBottom">
      <span>Total Pembayaran</span>
      <b id="grandTotalBottomValue">Rp 0</b>
      </div>


      <button id="unlockPaymentBtn" onclick="unlockPaymentSection()">
        Checkout
      </button>
    </section>

    <!-- SECTION 4 : PEMBAYARAN -->
    <section id="paymentSection" class="locked">

      <div class="timer" id="paymentTimer">59:59</div>

      <h3>Metode Pembayaran</h3>

      <label>
        <input type="radio" name="payment" value="qris" onchange="selectPayment()">
        QRIS
      </label>
      <div id="qrisBox" class="hidden">
        <img src="/qris.jpg">
      </div>

      <label>
        <input type="radio" name="payment" value="bca" onchange="selectPayment()">
        Transfer Bank
      </label>
      <div id="bankBox" class="hidden">
        <p>Bank Jago <bar></bar>A.n Rifa'atul Fadilah <bar></bar>104060059740</b></p>
      </div>

      <label>Upload Bukti Pembayaran <b>*wajib</b></label>
      <input type="file" id="paymentProof" onchange="checkSubmitReady()">

      <p class="success-text hidden" id="successText">
        Selamat! Kamu berhasil memesan! Tunggu konfirmasi dari admin ya!
      </p>
    </section>

    <!-- SECTION 5 -->
     <button
  id="downloadReceiptBtn"
  class="btn-secondary"
  onclick="downloadReceiptPDF()"
>
  Download Kwitansi (PDF)
</button>

    <button id="submitOrderBtn" onclick="submitOrder()">
      Submit Order & Konfirmasi by WA
    </button>

  </div>
</div>

<div id="toast" class="toast hidden">
  Produk ditambahkan ke cart
</div>



<script src="/js/banner.js"></script>
<script src="/js/cart.js"></script>
<script src="/js/modal.js"></script>
<script src="/js/cartmodal.js"></script>
<script src="/js/effects.js"></script>
<script src="/js/checkoutModal.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</body>
</html>
